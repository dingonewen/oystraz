# Oystraz - Life Orchestration Through Health

> **"The world is your oyster; Orchestrate your life through wellness."**
>
> A gamified health tracking and life simulation app where your real-world choices (diet, sleep, exercise) directly influence your virtual character's performance at work and in life.

---

## ğŸ® Project Vision

**Oystraz** merges two powerful metaphors:
- **Oyster** - "The world is your oyster" - life is full of opportunities waiting to be seized
- **Orchestra** - The art of coordinating complex elements into harmonious performance

The core philosophy: **By orchestrating your physical wellness, you gain control over your work and life.**

Oystraz is not just another health tracker - it's a **stress-relief simulator** that gamifies wellness while providing a safe space to express workplace frustrations. Your virtual character mirrors your real health data, and its workplace behavior reflects your physical and mental state.

### Core Principles
- ğŸ **Data-Driven Wellness** - Powered by USDA nutritional database
- ğŸƒ **Scientific Activity Tracking** - Accurate calorie expenditure calculations
- ğŸ˜Š **Emotional Intelligence** - Dynamic workplace scenarios based on health metrics
- ğŸ’¼ **Stress Liberation** - Safely "confront your boss", "slack off", or "nap at work" in virtual world
- ğŸ¤– **AI Companion** - Gemini AI provides empathetic coaching and personalized advice

---

## ğŸŒŸ Core Features

### 1. Health Data Tracking
```
ğŸ“Š Three Pillars of Wellness:

ğŸ½ï¸ Nutrition Logging
   â”œâ”€ Quick food search (USDA database)
   â”œâ”€ Photo recognition (Gemini Vision)
   â””â”€ Automatic nutritional analysis

ğŸ˜´ Sleep Tracking
   â”œâ”€ Duration monitoring
   â”œâ”€ Bedtime/wake time logging
   â””â”€ Quality scoring

ğŸƒ Exercise Recording
   â”œâ”€ Activity type and duration
   â”œâ”€ Calorie burn calculation
   â””â”€ Intensity classification
```

### 2. Virtual Character System
```
ğŸ‘¤ Character Attributes (0-100 scale):
â”œâ”€ ğŸ’ª Stamina - Based on exercise and sleep quality
â”œâ”€ âš¡ Energy - Based on caloric intake vs expenditure
â”œâ”€ ğŸ Nutrition - Based on dietary balance
â”œâ”€ ğŸ˜Š Mood - Based on overall wellness trends
â””â”€ ğŸ˜° Stress - Based on work hours and rest quality

ğŸ­ Character States:
â”œâ”€ Body type changes (BMI-influenced)
â”œâ”€ Mental states (exhausted â†” energized)
â”œâ”€ Emotional expressions (happy, frustrated, angry, tired)
â””â”€ Level progression system (earn XP through healthy behaviors)
```

### 3. Office Life Simulator â­ Core Innovation â­
```
ğŸ’¼ Workplace Scenario Engine:

When users click "Start Work", their virtual character enters
an office environment where different interactive events trigger
based on current health attributes.

Example Scenario:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Character sitting at desk]        â”‚
â”‚                                     â”‚
â”‚  Current Status:                    â”‚
â”‚  ğŸ’ª Stamina: 85  âš¡ Energy: 90     â”‚
â”‚  ğŸ˜Š Mood: 75     ğŸ˜° Stress: 30     â”‚
â”‚                                     â”‚
â”‚  Event Triggered:                   â”‚
â”‚  "Your boss suddenly calls you      â”‚
â”‚   for an urgent meeting..."         â”‚
â”‚                                     â”‚
â”‚  Available Actions:                 â”‚
â”‚  [ğŸ’¥ Tell them off] (mood > 80)    â”‚
â”‚  [ğŸ˜´ Pretend not to hear] (stamina < 40) â”‚
â”‚  [ğŸ“ Comply quietly] (default)     â”‚
â”‚  [ğŸƒ Hide in bathroom] (stress > 70) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Workplace Event Types (Health-Based Triggers)
```
High Stamina (>80):
â”œâ”€ âœ¨ "Work overtime energetically, gain boss approval" (+mood)
â”œâ”€ ğŸ’ª "Complete challenging project" (+XP)
â””â”€ ğŸ† "Volunteer for extra responsibilities" (+achievement)

Low Stamina (<40):
â”œâ”€ ğŸ˜´ "Doze off during work, caught by colleagues" (-mood)
â”œâ”€ ğŸ’¤ "Fall asleep at desk" (restore stamina but -reputation)
â””â”€ ğŸ¥± "Low productivity, tasks delayed" (+stress)

High Mood (>80):
â”œâ”€ ğŸ’¥ "Confront boss about unreasonable demands" (cathartic! -stress)
â”œâ”€ ğŸ’° "Ask for a raise" (chance of success)
â””â”€ ğŸ‰ "Peak productivity mode" (+work output)

Low Mood (<30):
â”œâ”€ ğŸ˜¢ "Cry in bathroom stall" (emotional release)
â”œâ”€ ğŸ’¼ "Submit resignation letter" (life reset)
â””â”€ ğŸƒ "Leave early without notice" (-work progress)

High Stress (>80):
â”œâ”€ ğŸ¤¯ "Emotional outburst" (reduce stress but damage relationships)
â”œâ”€ ğŸ–ï¸ "Forced vacation mode" (restore mood)
â””â”€ ğŸ§˜ "Meditation/exercise prompt triggered"

Balanced State (all metrics 60-80):
â”œâ”€ ğŸ“Š "Steady performance, normal workday"
â”œâ”€ ğŸ¤ "Smooth team collaboration"
â””â”€ â¬†ï¸ "Career level up"
```

### 4. AI Health Coach (Gemini)
```
ğŸ¤– Intelligent Assistant Features:

ğŸ’¬ Emotional Resonance
   "Looks like you didn't sleep well last night.
    Your stamina is only at 45 today...
    Want to hear my suggestions?"

ğŸ¯ Personalized Recommendations
   "You haven't exercised for 3 days, and your nutrition
    score dropped to 60. I recommend a 30-minute brisk walk
    today with a high-protein breakfast!"

ğŸ‰ Encouragement & Celebration
   "Amazing! 7-day healthy eating streak! Your character
    just leveled up to Level 3! Achievement unlocked:
    Wellness Warrior ğŸ†"

ğŸ“ˆ Trend Analysis
   "Your sleep quality has been declining over the past
    two weeks. This might be work-stress related.
    Consider adjusting your schedule..."

ğŸ­ Workplace Scenario Commentary
   "Haha! Your character just confronted the boss!
    Stress -30, Mood +20, but watch those workplace
    relationships ğŸ˜„"
```

### 5. Data Visualization & Reporting
```
ğŸ“Š Health Dashboard:
â”œâ”€ Four-dimensional radar chart (stamina/energy/nutrition/mood)
â”œâ”€ Historical trend curves
â”œâ”€ Weekly/monthly wellness reports
â””â”€ Workplace scenario replay logs

ğŸ“… Daily Summary:
"January 13, 2026 - Your Day"
â”œâ”€ Breakfast: Oatmeal + Banana (350 cal, nutrition +15)
â”œâ”€ Exercise: 30min jog (stamina +20, energy -250)
â”œâ”€ Work: Confronted boss once (mood +25, stress -30)
â””â”€ Overall: Health Level 5 â†’ 6 â¬†ï¸
```

---

## ğŸ—ï¸ Technical Architecture

### Technology Stack
```
Frontend:
â”œâ”€ React 18 + TypeScript
â”œâ”€ UI Library: Material-UI (mobile-responsive)
â”œâ”€ State Management: Zustand
â”œâ”€ Routing: React Router v6
â”œâ”€ Charts: Recharts
â”œâ”€ Animation: Framer Motion
â””â”€ PWA: Installable on mobile devices

Backend:
â”œâ”€ FastAPI (Python 3.11+)
â”œâ”€ Database: PostgreSQL
â”œâ”€ ORM: SQLAlchemy
â”œâ”€ Authentication: JWT
â””â”€ API Docs: Auto-generated (FastAPI)

AI & Data Sources:
â”œâ”€ Google Gemini API (chat + image recognition)
â”œâ”€ USDA FoodData Central API (nutritional data)
â”œâ”€ Exercise DB / MET Database (activity data)
â””â”€ Redis (caching layer)

Deployment:
â”œâ”€ Frontend: Vercel / Netlify
â”œâ”€ Backend: Railway / Render
â”œâ”€ Database: Supabase (PostgreSQL hosting)
â””â”€ Containerization: Docker + Docker Compose
```

### System Architecture Diagram
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              User Interface Layer                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚Data Inputâ”‚  â”‚Character â”‚  â”‚Work Sim  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚              â”‚              â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚              â”‚              â”‚
          â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               API Gateway Layer                  â”‚
â”‚              FastAPI REST API                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â–¼           â–¼  â–¼         â–¼  â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Health  â”‚ â”‚Scenarioâ”‚ â”‚AI       â”‚ â”‚External  â”‚
â”‚Calc    â”‚ â”‚Engine  â”‚ â”‚Service  â”‚ â”‚APIs      â”‚
â”‚Engine  â”‚ â”‚        â”‚ â”‚(Gemini) â”‚ â”‚(USDA etc)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚          â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚Data Persistence  â”‚
          â”‚PostgreSQL DB     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Core Algorithms

#### 1. Health Metrics Calculation Engine
```python
def calculate_health_metrics(user_data):
    """
    Calculate multi-dimensional health parameters

    Inputs:
    - Dietary records (calories, protein, carbs, fat, vitamins)
    - Sleep records (duration, quality, bedtime)
    - Exercise records (type, duration, intensity)
    - User baseline data (height, weight, age, gender)

    Outputs:
    - Stamina (0-100)
    - Energy (0-100)
    - Nutrition (0-100)
    - Mood (0-100)
    - Stress (0-100)
    """

    # 1. Stamina = f(exercise volume, sleep quality)
    stamina = (
        exercise_score * 0.6 +
        sleep_quality * 0.4
    )

    # 2. Energy = f(caloric balance, sleep duration)
    energy = (
        calorie_balance_score * 0.7 +
        sleep_duration_score * 0.3
    )

    # 3. Nutrition = f(dietary balance, micronutrients)
    nutrition = (
        macro_balance * 0.6 +
        vitamin_minerals * 0.4
    )

    # 4. Mood = f(overall health trend, stress level)
    mood = (
        overall_health_trend * 0.6 +
        (100 - stress) * 0.4
    )

    # 5. Stress = f(work hours, rest quality, mood variance)
    stress = calculate_stress_level(
        work_hours, rest_quality, mood_variance
    )

    return {
        'stamina': stamina,
        'energy': energy,
        'nutrition': nutrition,
        'mood': mood,
        'stress': stress
    }
```

#### 2. Workplace Scenario Trigger Engine
```python
def trigger_work_event(character_state):
    """
    Trigger workplace scenarios based on character health state

    Priority System:
    1. Extreme states (any attribute < 20 or > 90)
    2. Combined states (high stress + low mood)
    3. Random events (probability-based)
    """

    # Check extreme states
    if character_state['stamina'] < 20:
        return random.choice([
            Event('SLEEP_AT_DESK',
                  consequence={'stamina': +10, 'reputation': -5}),
            Event('CALL_IN_SICK',
                  consequence={'stamina': +30, 'work_progress': -10})
        ])

    if character_state['mood'] > 90:
        return random.choice([
            Event('CONFRONT_BOSS',
                  consequence={'stress': -30, 'mood': +10}),
            Event('ASK_FOR_RAISE',
                  consequence={'money': +100, 'confidence': +15})
        ])

    # Combined state triggers
    if character_state['stress'] > 80 and character_state['mood'] < 30:
        return Event('MELTDOWN',
                     consequence={'stress': -50, 'relationships': -20})

    # Normal random events
    return get_random_event(character_state)
```

#### 3. AI Conversation Generation
```python
def generate_ai_response(user_data, context, conversation_history):
    """
    Generate personalized AI coach responses using Gemini
    """

    prompt = f"""
    You are Oystraz's AI health coach. Communicate in a relaxed,
    humorous, and empathetic tone. You can see the user's virtual
    character state and offer advice like a supportive friend.

    User's Character Current State:
    - Level: {user_data['level']}
    - ğŸ’ª Stamina: {user_data['stamina']}/100
    - âš¡ Energy: {user_data['energy']}/100
    - ğŸ Nutrition: {user_data['nutrition']}/100
    - ğŸ˜Š Mood: {user_data['mood']}/100
    - ğŸ˜° Stress: {user_data['stress']}/100

    Recent Activities:
    - Yesterday's meals: {user_data['yesterday_meals']}
    - Yesterday's exercise: {user_data['yesterday_exercise']}
    - Recent workplace events: {user_data['recent_work_events']}

    Current Context: {context}

    Respond with encouraging, fun, and gamified language.
    Use emojis appropriately. If the user's state is poor,
    show empathy and provide actionable advice. If they're
    doing well, celebrate enthusiastically and encourage continuation.
    """

    response = gemini_client.generate_content(
        prompt,
        history=conversation_history
    )

    return response.text
```

---

## ğŸ“‚ Project Structure

```
Oystraz/
â”œâ”€â”€ README.md
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml
â”‚
â”œâ”€â”€ frontend/                      # React Frontend
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ manifest.json          # PWA config
â”‚   â”‚   â”œâ”€â”€ icons/                 # App icons
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/            # UI Components
â”‚   â”‚   â”‚   â”œâ”€â”€ Avatar/            # Virtual character display
â”‚   â”‚   â”‚   â”œâ”€â”€ HealthBars/        # Health attribute bars
â”‚   â”‚   â”‚   â”œâ”€â”€ FoodInput/         # Food logging interface
â”‚   â”‚   â”‚   â”œâ”€â”€ ExerciseLog/       # Exercise recording
â”‚   â”‚   â”‚   â”œâ”€â”€ WorkSimulator/     # Workplace scenario simulator â­
â”‚   â”‚   â”‚   â”œâ”€â”€ AIChat/            # AI conversation interface
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard/         # Data dashboard
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx           # Main page (character status)
â”‚   â”‚   â”‚   â”œâ”€â”€ Track.tsx          # Data tracking
â”‚   â”‚   â”‚   â”œâ”€â”€ Work.tsx           # Work simulation â­
â”‚   â”‚   â”‚   â”œâ”€â”€ Stats.tsx          # Statistics
â”‚   â”‚   â”‚   â””â”€â”€ Profile.tsx        # User settings
â”‚   â”‚   â”œâ”€â”€ hooks/                 # Custom hooks
â”‚   â”‚   â”œâ”€â”€ services/              # API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts             # API client
â”‚   â”‚   â”‚   â”œâ”€â”€ foodService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ exerciseService.ts
â”‚   â”‚   â”‚   â””â”€â”€ geminiService.ts
â”‚   â”‚   â”œâ”€â”€ store/                 # Zustand state management
â”‚   â”‚   â”‚   â”œâ”€â”€ userStore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ characterStore.ts
â”‚   â”‚   â”‚   â””â”€â”€ workStore.ts
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ calculations.ts    # Frontend calculation utilities
â”‚   â”‚   â”‚   â””â”€â”€ formatters.ts
â”‚   â”‚   â”œâ”€â”€ types/                 # TypeScript type definitions
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/                       # FastAPI Backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py                # Application entry point
â”‚   â”‚   â”œâ”€â”€ config.py              # Configuration management
â”‚   â”‚   â”œâ”€â”€ database.py            # Database connection
â”‚   â”‚   â”œâ”€â”€ models/                # SQLAlchemy models
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ meal.py
â”‚   â”‚   â”‚   â”œâ”€â”€ exercise.py
â”‚   â”‚   â”‚   â”œâ”€â”€ sleep.py
â”‚   â”‚   â”‚   â”œâ”€â”€ character.py
â”‚   â”‚   â”‚   â”œâ”€â”€ work_event.py      # Workplace event records
â”‚   â”‚   â”‚   â””â”€â”€ achievement.py
â”‚   â”‚   â”œâ”€â”€ schemas/               # Pydantic schemas
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ health.py
â”‚   â”‚   â”‚   â””â”€â”€ work.py
â”‚   â”‚   â”œâ”€â”€ api/                   # API routes
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py            # Authentication
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py            # User management
â”‚   â”‚   â”‚   â”œâ”€â”€ food.py            # Food-related endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ exercise.py        # Exercise-related endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ sleep.py           # Sleep-related endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ character.py       # Character state endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ work.py            # Workplace scenarios â­
â”‚   â”‚   â”‚   â””â”€â”€ ai.py              # AI conversation endpoints
â”‚   â”‚   â”œâ”€â”€ services/              # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ health_calculator.py  # Health calculation engine â­
â”‚   â”‚   â”‚   â”œâ”€â”€ work_engine.py        # Workplace scenario engine â­
â”‚   â”‚   â”‚   â”œâ”€â”€ usda_client.py        # USDA API client
â”‚   â”‚   â”‚   â”œâ”€â”€ exercise_client.py    # Exercise data API client
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini_client.py      # Gemini API client
â”‚   â”‚   â”‚   â””â”€â”€ character_service.py  # Character state management
â”‚   â”‚   â””â”€â”€ core/
â”‚   â”‚       â”œâ”€â”€ security.py        # JWT and security
â”‚   â”‚       â””â”€â”€ dependencies.py
â”‚   â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ alembic/                   # Database migrations
â”‚
â”œâ”€â”€ data/                          # Data files
â”‚   â”œâ”€â”€ raw/                       # Raw USDA data
â”‚   â”œâ”€â”€ processed/                 # Processed data
â”‚   â””â”€â”€ work_events.json           # Workplace scenario library â­
â”‚
â””â”€â”€ docs/                          # Documentation
    â”œâ”€â”€ API.md                     # API documentation
    â”œâ”€â”€ DATABASE.md                # Database design
    â”œâ”€â”€ ALGORITHMS.md              # Algorithm explanations
    â””â”€â”€ DEPLOYMENT.md              # Deployment guide
```

---

## ğŸ—„ï¸ Database Design

```sql
-- Users table
users:
  id, username, email, password_hash,
  height, weight, age, gender, goal,
  created_at, updated_at

-- Character states table (daily snapshots)
character_states:
  id, user_id, date,
  stamina, energy, nutrition, mood, stress,
  level, experience,
  body_type, emotional_state

-- Meal records
meals:
  id, user_id, datetime, meal_type,
  food_items (JSON),
  total_calories, protein, carbs, fat,
  vitamins_minerals (JSON)

-- Exercise records
exercises:
  id, user_id, datetime,
  exercise_type, duration, intensity,
  calories_burned, met_value

-- Sleep logs
sleep_logs:
  id, user_id, date,
  bedtime, wake_time, duration,
  quality_score

-- Workplace event records â­ Core table
work_events:
  id, user_id, datetime,
  event_type, event_description,
  user_choice,
  consequences (JSON),
  character_state_before (JSON),
  character_state_after (JSON)

-- Achievement system
achievements:
  id, user_id, achievement_type,
  title, description, icon,
  unlocked_at

-- AI conversation history
ai_conversations:
  id, user_id,
  user_message, ai_response,
  context (JSON), timestamp
```

---

## ğŸ¯ MVP Development Plan (3 Weeks)

### Week 1: Foundation + Data Tracking
```
Day 1-2: Project Initialization
â”œâ”€ Frontend and backend project setup
â”œâ”€ Database design and migrations
â”œâ”€ Basic authentication system
â””â”€ Development environment configuration

Day 3-4: Data Input Features
â”œâ”€ Food search and logging (USDA API)
â”œâ”€ Exercise recording forms
â”œâ”€ Sleep logging forms
â””â”€ Basic API endpoints

Day 5-7: Health Calculation Engine
â”œâ”€ Implement health scoring algorithms
â”œâ”€ Character state calculations
â”œâ”€ Data persistence
â””â”€ Unit testing
```

### Week 2: Virtual Character + Workplace Scenarios
```
Day 8-10: Character System
â”œâ”€ Character state display UI
â”œâ”€ Health attribute visualization (progress bars)
â”œâ”€ Simple character avatar (emoji/icons)
â”œâ”€ Real-time state updates

Day 11-14: Workplace Scenario Engine â­
â”œâ”€ Scenario trigger logic
â”œâ”€ Event library design (10 core scenarios)
â”œâ”€ User choice and consequence system
â”œâ”€ Workplace scenario UI interface
â””â”€ Scenario history tracking
```

### Week 3: AI Integration + Optimization & Deployment
```
Day 15-17: AI Assistant
â”œâ”€ Gemini API integration
â”œâ”€ Conversation interface
â”œâ”€ Context management
â””â”€ Personalized responses

Day 18-19: Data Visualization
â”œâ”€ Health dashboard
â”œâ”€ Chart displays (Recharts)
â”œâ”€ Daily/weekly reports
â””â”€ Trend analysis

Day 20-21: Deployment and Testing
â”œâ”€ Docker configuration
â”œâ”€ PWA setup
â”œâ”€ Cloud platform deployment
â”œâ”€ User testing and bug fixes
â””â”€ Documentation refinement
```

---

## ğŸ¨ Design Style Guide

### Visual Style
```
Theme: Modern, Fresh, Gamified
Color Scheme:
  â”œâ”€ Primary: #4CAF50 (Health Green)
  â”œâ”€ Secondary: #2196F3 (Energy Blue)
  â”œâ”€ Warning: #FF9800 (Caution Orange)
  â”œâ”€ Danger: #F44336 (Stress Red)
  â””â”€ Background: #FAFAFA (Light Gray)

Character Avatar:
  â”œâ”€ MVP: Emoji combinations (ğŸ˜ŠğŸ’ªğŸƒ etc.)
  â”œâ”€ V2: Simplified cartoon illustrations
  â””â”€ V3: Dynamic SVG characters
```

### Interaction Design Principles
```
1. Instant Feedback - Every action has visual/audio response
2. Gamification - Use levels, achievements, animations
3. Emotional Connection - AI uses empathetic language, not cold data
4. Simplified Input - Minimize steps to complete logging
5. Mobile-First - Responsive design
```

---

## ğŸš€ Deployment Strategy

### Development Environment
```bash
# Clone repository
git clone https://github.com/yourusername/oystraz.git
cd oystraz

# One-click startup with Docker Compose
docker-compose up -d

# Or start frontend and backend separately
cd backend && pip install -r requirements.txt && uvicorn app.main:app --reload
cd frontend && npm install && npm run dev
```

### Production Environment
```
Frontend: Vercel
  - Automatic deployment
  - Global CDN
  - PWA support

Backend: Railway / Render
  - Docker deployment
  - Auto-scaling
  - Environment variable management

Database: Supabase
  - PostgreSQL hosting
  - Automatic backups
  - 10GB free tier
```

---

## ğŸ“Š Success Metrics

### Product Metrics
```
User Engagement:
â”œâ”€ DAU (Daily Active Users)
â”œâ”€ Average daily logging frequency
â”œâ”€ Workplace scenario trigger rate
â””â”€ AI conversation interaction rate

User Retention:
â”œâ”€ Day-1 retention > 40%
â”œâ”€ Day-7 retention > 25%
â””â”€ Day-30 retention > 15%

Feature Usage:
â”œâ”€ Most popular workplace scenarios
â”œâ”€ Average character level
â””â”€ Achievement unlock rate
```

### Technical Metrics
```
Performance:
â”œâ”€ API response time < 200ms
â”œâ”€ First contentful paint < 2s
â””â”€ PWA score > 90

Reliability:
â”œâ”€ System uptime > 99%
â”œâ”€ Error rate < 0.1%
â””â”€ Data accuracy 100%
```

---

## ğŸ¤ Contributing

Welcome contributions for new workplace scenarios, algorithm optimizations, or UI improvements!

### Adding New Workplace Scenarios
```json
// data/work_events.json
{
  "event_id": "boss_unreasonable_demand",
  "title": "Boss Makes Unreasonable Demand",
  "description": "Your boss suddenly demands you work overtime tonight to finish tomorrow's report...",
  "triggers": {
    "stress": [60, 100],
    "time_of_day": "evening"
  },
  "choices": [
    {
      "text": "ğŸ’¥ Refuse directly with explanation",
      "requires": {"mood": 70},
      "consequences": {"stress": -20, "mood": +10, "reputation": -5}
    },
    {
      "text": "ğŸ˜¤ Reluctantly agree but feel upset",
      "consequences": {"stress": +15, "mood": -10, "overtime": +3}
    },
    {
      "text": "ğŸ“± Pretend phone died, didn't see message",
      "consequences": {"stress": -10, "mood": +5, "reputation": -10}
    }
  ]
}
```

---

## ğŸ“ License

MIT License - Free to use and modify

---

## ğŸŒˆ Future Roadmap

### V2.0 Features
```
â”œâ”€ Multi-character system (different careers: programmer, designer, salesperson)
â”œâ”€ Social features (friends, challenges, leaderboards)
â”œâ”€ Richer animation effects
â”œâ”€ Voice input
â”œâ”€ Smart band/watch data sync
â””â”€ Multi-language support
```

### V3.0 Vision
```
â”œâ”€ Native mobile app (React Native)
â”œâ”€ AR virtual character (ARKit/ARCore)
â”œâ”€ Community scenario library (user-created scenarios)
â”œâ”€ AI-generated personalized storylines
â””â”€ Enterprise wellness management edition
```

---

## ğŸ“ Contact

- Project Homepage: [GitHub Repository]
- Issue Reporting: [Issues]
- Discussion Forum: [Discussions]

---

**Make wellness fun, give workplace stress a safe outlet!** ğŸ®ğŸ’ªğŸ˜Š

**Orchestrate your health. Control your life. The world is your oyster.**
